# 도메인 분해

- 전략적으로 개별 마이크로 프런트엔드의 범위를 나눌 수 있게 도와준다.
- 관심 도메인을 독립적으로 개발 및 배포할 수 있게 더 작은 조각으로 나누는 통일된 방법을 제시

## 도메인 주도 설계(DDD: Domain-driven-design)

- 명확한 경계를 가진 마이크로 프런트엔드 정의와 경계를 설정하기 위한 전략 수립을 위한 청사진으로 사용

### 모듈

- 특정한 기능 모음을 위한 컨테이너 역할
- 낮은 결합도와 높은 응집력이 설계 원칙
- 다른 마이크로프론트엔드에 직접 의존하지 않고 하나의 문제를 해결하기 위한 단일 유닛
- 어떤것이 모듈이 될 수 있는지 찾기 위해 바운디드 컨텍스트 개념 도입

### 바운디드 컨텍스트

- 하위 도메인 기능의 경계를 정의하기 위해 사용
- 특정 도메인의 기능만 유효한 영역
- 여러 모듈이 동일한 바운디드 컨텍스트에 포함되어 연결해주는 역할을 한다.
- 관심 도메인에서 바운디드 컨텍스트가 무엇일지 컨택스트 맵 형태로 시각화하고 파악 필요

### 컨텍스트 맵

- 컨택스트 맵을 이용해서 전체 도메인 분해를 유도한다.
- 컨텍스트 사이의 연결을 설명

### 전락적 설계 vs 전술적 설계

- 전략적 설계
  - 관심 도메인에 대한 지식을 확장하고 의미있는 기준을 떠올릴때
  - 도메인들을 식별하고 서로 간의 소통에 관심
- 전술적 설계
  - 시스템을 구성하는 설계 패턴과 구성 요소를 고려할 때
  - 도메인들을 구조화하는데에 초점
  - 관심 도메인을 더 작은 하위 도메인으로 세분화할 때 유용
  - 전체 관심 도메인에서 개별 하위 도메인을 구분하고, 바운디드 컨텍스트를 도출하여 컨텍스트간의 관계를 컨텍스트 맵에 기록

-> 모든 바운디드 컨텍스트가 마이크로 프론트엔드가 될 필요는 없지만 합당한 이유 없이 컨텍스트를 넘어서지 않도록 하며, 관심 도메인을 과감하게 분할하지 않도록 한다.

그렇다면 어떤 종류의 분할이 실제로 의미가 있을까?

## 관심사 분리(SoC:Separation of Concerns)

- 분할의 종류에는 기술적 분할과 기능적 분할이 있는데, 마이크로 프론트엔드의 이점은 비즈니스 중심의 분할 결정에 있다.

### 기술적 분할

- 화면의 구성요소는 그룹화하여 서로 다른 마이크로 프론트엔드에 배치한다.
- 각 마이크로 프론트엔드가 서로 다른 도메인의 일부를 포함하는것이 문제

### 기능적 분할

- 기능적 분할을 사용한다면 새로운 마이크로 프론트엔드가 도입될 때 다른 마이크로프론트엔드에 영향을 주지 않는다.
- 화면상 요소는 확장 가능하고 서로 다른 마이크로 프론트엔드로 구성된다.
- 화면에 보이는대로 그룹화하는 대신 동일한 마이크로 프론트엔드 내의 관련된 항목끼리 그룹화

## 아키텍처 경계

### 공유된 기능

- 모든것을 공유한다면 문제 영역에 집중할 수 있지만 대규모 공유 코드베이스의 변경이 자주 발생하고 고장을 유발
- 아무것도 공유하지 않는다면 공유된 기능을 수정하기 위해 모든 곳에서 수정해야함
- 다음을 선택하여 오류가 발견된 곳에서 수정이 가능하게 한다.

1. 공유할 수 있는 모든것을 공유하지 않고 몇가지 안정적인 핵심만 공유
2. 공유하되 각 마이크로 프론트엔드에서 공유 기능을 재정의
